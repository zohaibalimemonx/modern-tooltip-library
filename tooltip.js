const Tooltip=function(){const t={position:"top",offset:8,delay:100,duration:200},e=new Map;function o(o){const n=e.get(o);n&&(clearTimeout(n.timeout),n.timeout=setTimeout((()=>{n.tooltip||(n.tooltip=function(t,e,o){const n=document.createElement("div");n.className=`tooltip tooltip-${e} ${o?"tooltip-"+o:""}`;const i=document.createElement("div");i.innerHTML=t;const l=document.createDocumentFragment();return[...i.childNodes].forEach((t=>{var e;l.appendChild((e=t).nodeType===Node.TEXT_NODE?e.cloneNode(!0):e.nodeType===Node.ELEMENT_NODE&&["BR"].includes(e.nodeName)?document.createElement(e.nodeName):document.createTextNode(""))})),n.appendChild(l),n}(n.content,n.position,n.theme),document.body.appendChild(n.tooltip));const e=function(e,o,n){const i=e.getBoundingClientRect(),l=o.getBoundingClientRect(),s=window.scrollX||document.documentElement.scrollLeft,c=window.scrollY||document.documentElement.scrollTop;let d,a;switch(n){case"bottom":d=i.bottom+c+t.offset,a=i.left+s+(i.width-l.width)/2;break;case"left":d=i.top+c+(i.height-l.height)/2,a=i.left+s-l.width-t.offset;break;case"right":d=i.top+c+(i.height-l.height)/2,a=i.right+s+t.offset;break;default:d=i.top+c-l.height-t.offset,a=i.left+s+(i.width-l.width)/2}return{top:d,left:a}}(o,n.tooltip,n.position);n.tooltip.style.top=e.top+"px",n.tooltip.style.left=e.left+"px",n.tooltip.classList.add("visible"),n.tooltip.classList.remove("fade-out")}),n.delay||t.delay))}function n(t){const o=e.get(t);if(!o||!o.tooltip)return;const n=o.tooltip;n.classList.remove("visible"),n.classList.add("fade-out"),n.addEventListener("transitionend",(()=>{n.parentNode&&n.parentNode.removeChild(n)}),{once:!0}),o.tooltip=null}function i(t){const o=e.get(t);o&&(clearTimeout(o.timeout),o.timeout=setTimeout((()=>n(t)),150))}function l(l){const s=l.getAttribute("data-tooltip");if(!s)return;const c={mouseenter:()=>o(l),mouseleave:()=>i(l),focus:()=>o(l),blur:()=>n(l)},d={content:s,position:l.getAttribute("data-tooltip-position")||t.position,theme:l.getAttribute("data-tooltip-theme")||"",tooltip:null,timeout:null,handlers:c};e.set(l,d),Object.entries(c).forEach((([t,e])=>l.addEventListener(t,e)))}return{init(e={}){Object.assign(t,e),document.querySelectorAll("[data-tooltip]").forEach(l)},create(l,s={}){const c={content:s.content,position:s.position||t.position,theme:s.theme||"",delay:s.delay||t.delay,duration:s.duration||t.duration,tooltip:null,timeout:null,handlers:{}};e.set(l,c);const d={mouseenter:()=>o(l),mouseleave:()=>i(l),focus:()=>o(l),blur:()=>n(l)};return c.handlers=d,Object.entries(d).forEach((([t,e])=>l.addEventListener(t,e))),c},show:o,hide:n,destroy(t){const o=e.get(t);o&&(Object.entries(o.handlers).forEach((([e,o])=>t.removeEventListener(e,o))),n(t),o.timeout&&clearTimeout(o.timeout),e.delete(t))},getInstances:()=>e}}();
